graph TB
    subgraph "Frontend Layer"
        Dashboard[React Dashboard<br/>Vercel/Static Hosting]
    end
    
    subgraph "API Layer - Render"
        API[FastAPI Backend<br/>REST API]
        Auth[Authentication<br/>Middleware]
    end
    
    subgraph "Data Processing Layer"
        Queue[Background Job Queue<br/>Celery/Redis]
        Processor[Session Processor<br/>Scoring Engine]
        Analyzer[Reschedule Analyzer<br/>Simple Calculation]
    end
    
    subgraph "AI Services"
        OpenAI[OpenAI API<br/>GPT-4 for Analysis]
    end
    
    subgraph "Data Layer - Render"
        DB[(PostgreSQL<br/>Session & Tutor Data)]
        Redis[(Redis<br/>Job Queue & Cache)]
    end
    
    subgraph "External Services"
        EmailService[Email Service<br/>SendGrid/SES]
        RailsApp[Rails Application<br/>Existing Platform]
    end
    
    subgraph "Data Generation"
        DataGen[Synthetic Data Generator<br/>Python Script]
    end
    
    %% Frontend connections
    Dashboard -->|HTTP/REST| API
    
    %% API connections
    API --> DB
    API --> Queue
    API --> Redis
    
    %% Processing flow
    Queue --> Processor
    Processor --> Analyzer
    Processor --> OpenAI
    Processor --> DB
    Processor --> EmailService
    
    %% External integrations
    RailsApp -.->|Webhook/API| API
    API -.->|Read/Write| RailsApp
    
    %% Data generation
    DataGen --> DB
    
    %% Styling
    classDef frontend fill:#e1f5ff
    classDef api fill:#fff4e1
    classDef processing fill:#f0e1ff
    classDef ai fill:#ffe1f5
    classDef data fill:#e1ffe1
    classDef external fill:#ffe1e1
    
    class Dashboard frontend
    class API,Auth api
    class Queue,Processor,Analyzer processing
    class OpenAI ai
    class DB,Redis data
    class EmailService,RailsApp,DataGen external

